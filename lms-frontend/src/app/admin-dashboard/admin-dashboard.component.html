<div class="dashboard-container">
  <!-- Summary Cards -->
  <div class="stats-cards" *ngIf="summaryStats">
    <div class="card"><h3>Total Books</h3><p>{{ summaryStats.totalBooks }}</p></div>
    <div class="card"><h3>Total Users</h3><p>{{ summaryStats.totalUsers }}</p></div>
    <div class="card"><h3>Borrowed Books</h3><p>{{ summaryStats.borrowedBooks }}</p></div>
    <div class="card"><h3>Overdue Books</h3><p>{{ summaryStats.overdueBooks }}</p></div>
    <div class="card"><h3>Requested Books</h3><p>{{ summaryStats.requestedBooks }}</p></div>
    <div class="card"><h3>Return Requests</h3><p>{{ summaryStats.returnRequests }}</p></div>
  </div>

  <!-- Charts Section (Side by Side) -->
  <div class="charts-section">
    <div class="chart-box">
      <h3>Books by Genre</h3>
      <canvas baseChart [data]="booksByGenreChartData" [options]="chartOptions" [type]="'bar'"></canvas>
    </div>

    <div class="chart-box">
      <h3>Books Borrowed Per Month</h3>
      <canvas baseChart [data]="booksBorrowedPerMonthChartData" [options]="chartOptions" [type]="'bar'"></canvas>
    </div>
  </div>

  <!-- Tables Section (Two Columns per Row) -->
  <div class="tables-section">
    <div class="table-row">
      <div class="table-box">
        <h3>Most Active Users</h3>
        <table>
          <tr><th>Username</th><th>Borrowed Books</th></tr>
          <tr *ngFor="let user of mostActiveUsers">
            <td>{{ user.username }}</td>
            <td>{{ user.borrowCount }}</td>
          </tr>
        </table>
      </div>

      <div class="table-box">
        <h3>Most Borrowed Books</h3>
        <table>
          <tr><th>Book Title</th><th>Times Borrowed</th></tr>
          <tr *ngFor="let book of mostBorrowedBooks">
            <td>{{ book.title }}</td>
            <td>{{ book.count }}</td>
          </tr>
        </table>
      </div>
    </div>

    <div class="table-row">
      <div class="table-box">
        <h3>Most Borrowed Genres</h3>
        <table>
          <tr><th>Genre</th><th>Times Borrowed</th></tr>
          <tr *ngFor="let genre of mostBorrowedGenres">
            <td>{{ genre.genre }}</td>
            <td>{{ genre.count }}</td>
          </tr>
        </table>
      </div>

      <div class="table-box">
        <h3>Top Rated Books</h3>
        <table>
          <tr><th>Book Title</th><th>Rating</th></tr>
          <tr *ngFor="let book of topRatedBooks">
            <td>{{ book.title }}</td>
            <td>{{ book.rating }}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
